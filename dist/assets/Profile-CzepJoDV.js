import{r as a,j as e}from"./heroui-0ik-TEjB.js";import{u as F,I as t,a as n,b as N}from"./index-xfTcSX6L.js";import"./router-Cc6Kb6KN.js";import"./query-CmYTTArA.js";const q=()=>{var v,y,j;const{user:r,updatePassword:P}=F(),[f,l]=a.useState(!1),[C,c]=a.useState(!1),[m,k]=a.useState(!1),[x,S]=a.useState(!1),[p,w]=a.useState({fullName:((v=r==null?void 0:r.user_metadata)==null?void 0:v.full_name)||"",email:(r==null?void 0:r.email)||""}),[o,u]=a.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,i]=a.useState(!1),E=(s,g)=>{w(b=>({...b,[s]:g}))},h=(s,g)=>{u(b=>({...b,[s]:g}))},_=async()=>{if(!p.fullName.trim()){n("Full name is required");return}i(!0);try{await new Promise(s=>setTimeout(s,1e3)),N("Profile updated successfully!"),l(!1)}catch(s){console.error("Error updating profile:",s),n("Failed to update profile. Please try again.")}finally{i(!1)}},I=async()=>{if(!o.currentPassword||!o.newPassword||!o.confirmPassword){n("All password fields are required");return}if(o.newPassword!==o.confirmPassword){n("New passwords do not match");return}if(o.newPassword.length<6){n("New password must be at least 6 characters long");return}i(!0);try{await P(o.newPassword),N("Password changed successfully!"),u({currentPassword:"",newPassword:"",confirmPassword:""}),c(!1)}catch(s){console.error("Error changing password:",s),n("Failed to change password. Please try again.")}finally{i(!1)}},D=()=>{var s;w({fullName:((s=r==null?void 0:r.user_metadata)==null?void 0:s.full_name)||"",email:(r==null?void 0:r.email)||""}),l(!1)},A=()=>{u({currentPassword:"",newPassword:"",confirmPassword:""}),c(!1)};return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"container-page section-py-xl",children:[e.jsxs("div",{className:"text-center mb-4xl",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold gradient-text mb-lg",children:"Profile Settings"}),e.jsx("p",{className:"text-xl text-foreground/70 mb-sm",children:"Manage your account information and security settings"})]}),e.jsxs("div",{className:"bg-content1/90 backdrop-blur-2xl rounded-3xl border border-divider/50 container-px-2xl container-py-lg hover:shadow-2xl hover:shadow-primary/5 transition-all duration-500 group mb-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-lg",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-sm group-hover:text-primary transition-colors duration-300",children:"Profile Information"}),e.jsx("p",{className:"text-foreground/60",children:"Manage your personal details"})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:e.jsx(t.user,{className:"w-6 h-6 text-primary"})})]}),e.jsxs("div",{className:"space-y-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-foreground mb-sm",children:"Full Name"}),f?e.jsx("input",{type:"text",value:p.fullName,onChange:s=>E("fullName",s.target.value),className:"w-full container-px-lg container-py-lg border border-divider/50 rounded-2xl focus:ring-2 focus:ring-primary focus:border-primary text-base bg-content2/80 backdrop-blur-sm transition-all duration-300 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/10",placeholder:"Enter your full name"}):e.jsx("p",{className:"text-lg text-foreground container-p-lg bg-content2/50 rounded-2xl border border-divider/20",children:((y=r==null?void 0:r.user_metadata)==null?void 0:y.full_name)||"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-foreground mb-sm",children:"Email Address"}),e.jsxs("div",{className:"container-p-lg bg-content2/50 rounded-2xl border border-divider/20",children:[e.jsxs("p",{className:"text-lg text-foreground flex items-center gap-md",children:[e.jsx(t.mail,{className:"w-5 h-5 text-primary"}),r==null?void 0:r.email]}),e.jsx("p",{className:"text-sm text-foreground/60 mt-sm",children:"Email address cannot be changed"})]})]}),e.jsx("div",{className:"flex gap-lg pt-xl border-t border-divider/30",children:f?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:_,disabled:d,className:"bg-primary text-primary-foreground container-px-lg container-py-md rounded-xl font-semibold text-sm transition-all duration-300 hover:bg-primary/90 hover:shadow-md hover:shadow-primary/20 disabled:opacity-50",children:[e.jsx(t.check,{className:"w-4 h-4 mr-sm"}),d?"Saving...":"Save Changes"]}),e.jsx("button",{onClick:D,className:"bg-content2 hover:bg-content3 text-foreground container-px-lg container-py-md rounded-xl font-semibold text-sm transition-all duration-300",children:"Cancel"})]}):e.jsxs("button",{onClick:()=>l(!0),className:"bg-primary text-primary-foreground container-px-lg container-py-md rounded-xl font-semibold text-sm transition-all duration-300 hover:bg-primary/90 hover:shadow-md hover:shadow-primary/20",children:[e.jsx(t.edit,{className:"w-4 h-4 mr-sm"}),"Edit Profile"]})})]})]}),e.jsxs("div",{className:"bg-content1/90 backdrop-blur-2xl rounded-3xl border border-divider/50 container-px-2xl container-py-lg hover:shadow-2xl hover:shadow-primary/5 transition-all duration-500 group mb-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-lg",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-sm group-hover:text-primary transition-colors duration-300",children:"Security Settings"}),e.jsx("p",{className:"text-foreground/60",children:"Manage your account security"})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:e.jsx(t.shield,{className:"w-6 h-6 text-primary"})})]}),C?e.jsxs("div",{className:"space-y-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-foreground mb-sm",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",value:o.currentPassword,onChange:s=>h("currentPassword",s.target.value),className:"w-full container-px-lg container-py-lg pr-12 border border-divider/50 rounded-2xl focus:ring-2 focus:ring-success focus:border-success text-base bg-content2/80 backdrop-blur-sm transition-all duration-300 hover:border-success/30 hover:shadow-lg hover:shadow-success/10",placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>k(!m),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-foreground/60 hover:text-foreground transition-colors duration-200",children:m?e.jsx(t.eyeOff,{className:"w-5 h-5"}):e.jsx(t.eye,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-foreground mb-sm",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",value:o.newPassword,onChange:s=>h("newPassword",s.target.value),className:"w-full container-px-lg container-py-lg pr-12 border border-divider/50 rounded-2xl focus:ring-2 focus:ring-success focus:border-success text-base bg-content2/80 backdrop-blur-sm transition-all duration-300 hover:border-success/30 hover:shadow-lg hover:shadow-success/10",placeholder:"Enter new password"}),e.jsx("button",{type:"button",onClick:()=>S(!x),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-foreground/60 hover:text-foreground transition-colors duration-200",children:x?e.jsx(t.eyeOff,{className:"w-5 h-5"}):e.jsx(t.eye,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-sm text-foreground/60 mt-sm",children:"Password must be at least 6 characters long"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-foreground mb-sm",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:o.confirmPassword,onChange:s=>h("confirmPassword",s.target.value),className:"w-full container-px-lg container-py-lg border border-divider/50 rounded-2xl focus:ring-2 focus:ring-success focus:border-success text-base bg-content2/80 backdrop-blur-sm transition-all duration-300 hover:border-success/30 hover:shadow-lg hover:shadow-success/10",placeholder:"Confirm new password"})]}),e.jsxs("div",{className:"flex gap-lg pt-xl border-t border-divider/30",children:[e.jsxs("button",{onClick:I,disabled:d,className:"bg-primary text-primary-foreground container-px-lg container-py-md rounded-xl font-semibold text-sm transition-all duration-300 hover:bg-primary/90 hover:shadow-md hover:shadow-primary/20 disabled:opacity-50",children:[e.jsx(t.key,{className:"w-4 h-4 mr-sm"}),d?"Changing...":"Change Password"]}),e.jsx("button",{onClick:A,className:"bg-content2 hover:bg-content3 text-foreground container-px-lg container-py-md rounded-xl font-semibold text-sm transition-all duration-300",children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-lg",children:[e.jsxs("div",{className:"flex items-center justify-between container-p-lg bg-content2/50 rounded-2xl hover:bg-content2/70 transition-all duration-300 border border-divider/20 hover:border-primary/20",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Password"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"Last changed: Never"})]}),e.jsx("div",{className:"text-lg text-foreground/50 font-mono",children:"•••••••••••"})]}),e.jsxs("div",{className:"flex items-center justify-between container-p-lg bg-content2/50 rounded-2xl hover:bg-content2/70 transition-all duration-300 border border-divider/20 hover:border-primary/20",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"Add an extra layer of security"})]}),e.jsx("div",{className:"text-sm text-foreground/60 bg-content1/80 container-px-lg container-py-sm rounded-xl border border-divider/20",children:"Not enabled"})]}),e.jsx("div",{className:"pt-xl border-t border-divider/30",children:e.jsxs("button",{onClick:()=>c(!0),className:"bg-primary text-primary-foreground container-px-lg container-py-md rounded-xl font-semibold text-sm transition-all duration-300 hover:bg-primary/90 hover:shadow-md hover:shadow-primary/20",children:[e.jsx(t.key,{className:"w-4 h-4 mr-sm"}),"Change Password"]})})]})]}),e.jsxs("div",{className:"bg-content1/90 backdrop-blur-2xl rounded-3xl border border-divider/50 container-px-2xl container-py-lg hover:shadow-2xl hover:shadow-primary/5 transition-all duration-500 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-lg",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-sm group-hover:text-primary transition-colors duration-300",children:"Account Information"}),e.jsx("p",{className:"text-foreground/60",children:"View your account details"})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:e.jsx(t.user,{className:"w-6 h-6 text-primary"})})]}),e.jsxs("div",{className:"space-y-lg",children:[e.jsxs("div",{className:"flex items-center justify-between container-p-lg bg-content2/50 rounded-2xl hover:bg-content2/70 transition-all duration-300 border border-divider/20 hover:border-primary/20",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"User ID"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"Unique identifier for your account"})]}),e.jsxs("div",{className:"text-lg text-foreground/80 font-mono bg-content1/80 container-px-lg container-py-sm rounded-xl border border-divider/20",children:[(j=r==null?void 0:r.id)==null?void 0:j.slice(0,8),"..."]})]}),e.jsxs("div",{className:"flex items-center justify-between container-p-lg bg-content2/50 rounded-2xl hover:bg-content2/70 transition-all duration-300 border border-divider/20 hover:border-primary/20",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Account Created"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"When you joined Oentex"})]}),e.jsx("div",{className:"text-lg text-foreground/80 bg-content1/80 container-px-lg container-py-sm rounded-xl border border-divider/20",children:r!=null&&r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"})]}),e.jsxs("div",{className:"flex items-center justify-between container-p-lg bg-content2/50 rounded-2xl hover:bg-content2/70 transition-all duration-300 border border-divider/20 hover:border-primary/20",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Last Sign In"}),e.jsx("p",{className:"text-sm text-foreground/60",children:"Most recent authentication"})]}),e.jsx("div",{className:"text-lg text-foreground/80 bg-content1/80 container-px-lg container-py-sm rounded-xl border border-divider/20",children:r!=null&&r.last_sign_in_at?new Date(r.last_sign_in_at).toLocaleDateString():"Unknown"})]})]})]})]})})};export{q as default};
